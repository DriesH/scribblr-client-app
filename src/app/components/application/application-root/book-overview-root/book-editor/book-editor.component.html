<div id="book-editor">

    <div id="book-preview">
        <div class="book" *ngIf="isMemoryBoolean === false" data-is-memory="false">
            <div class="page-left" [dragula]='"first-bag"'>
                <scrblr-book-page [pageData]="post" [src]="currentImages[0]"></scrblr-book-page>
            </div>
            <div class="page-right" [dragula]='"first-bag"'>
                <scrblr-book-page [pageData]="post" [src]="currentImages[1]"></scrblr-book-page>
            </div>
        </div>

        <div class="book" *ngIf="isMemoryBoolean === true" data-is-memory="true">
            <div class="page-left" [dragula]='"first-bag"'>
                <scrblr-book-page [pageData]="post" [src]="currentImages[0]"></scrblr-book-page>
            </div>
            <div class="page-right" [dragula]='"first-bag"'>
                <p>{{ book[currentPageModel - 1][0].story }}</p>
            </div>
        </div>
    </div>

    <div id="book-editor-information">
        <span class="previous" (click)="previousPage()"><i class="fa fa-arrow-left"></i></span>

        <div id="page-indicator">
            <span>{{ currentPageModel }}</span>
            <span class="max-pages">of {{ maxPages }}</span>
        </div>

        <span class="next" (click)="nextPage()"><i class="fa fa-arrow-right"></i></span>

    </div>

    <div id="selection-bar">
        <ul class="children">
            <li *ngFor="let child of children" class="child-avatar" (click)="getQuotes(child.short_id)">
                <img src="/assets/default-avatars/Male.svg">
                <p>{{ child.full_name }}</p>
            </li>
        </ul>

        <span class="divider"></span>

        <span class="loading-spinner" *ngIf="isLoadingPosts"></span>

        <div *ngIf="!isLoadingPosts" class="posts" [dragula]='"first-bag"' [dragulaModel]="posts">
            <div *ngIf="posts.length === 0">No memories for this child.</div>
            <scrblr-book-page *ngFor="let post of posts" [pageData]="post" [src]="makePostUrl(null, post.short_id, post.img_baked_url_id)"></scrblr-book-page>
        </div>
    </div>

</div>
